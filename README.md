# Chunker Visualization App

---
❗❗❗ Данный репозиторий - это форк репозитория [aurelio-labs/semantic-chunkers](https://github.com/aurelio-labs/semantic-chunkers) и использует реализованные в нем классы с незначительными изменениями.
---

Это интерактивное приложение на Streamlit для визуализации работы различных алгоритмов семантического разбиения текста на чанки (chunking).  
Вы можете ввести свой текст, выбрать один из трёх чанкеров и пошагово увидеть, как именно происходит разбиение.

## Быстрый старт

1. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
2. Запустите приложение:
   ```bash
   streamlit run app.py
   ```
3. Откройте браузер по адресу, который покажет Streamlit (обычно http://localhost:8501).

---

## Описание методов

### 1. StatisticalChunker

**Кратко:**  
Статистический чанкер использует окно (window) для анализа нескольких предыдущих частей текста и вычисляет семантическое сходство между ними.  
Он может автоматически подбирать оптимальный порог для разбиения (dynamic threshold) и позволяет задавать минимальный и максимальный размер чанка в токенах.

**Особенности:**
- Сравнивает не только соседние, но и несколько предыдущих сплитов (окно).
- Может использовать динамический или фиксированный порог схожести.
- Позволяет контролировать размер чанков.
- Хорошо подходит для сложных текстов, где границы смысловых блоков неочевидны.

---

### 2. ConsecutiveChunker

**Кратко:**  
Этот чанкер сравнивает только соседние части текста (i-й и i+1-й сплит) по их семантическому сходству.  
Если схожесть ниже заданного порога, начинается новый чанк.

**Особенности:**
- Очень простой и быстрый.
- Хорошо работает, если в тексте есть чёткие смысловые границы.
- Не учитывает более широкий контекст, только пары соседних сплитов.

---

### 3. CumulativeChunker

**Кратко:**  
В этом методе для каждого шага берётся весь накопленный текст текущего чанка и сравнивается с очередным новым сплитом.  
Если схожесть падает ниже порога, начинается новый чанк.

**Особенности:**
- Сохраняет широкий контекст: сравнивает не только с последним, а со всем предыдущим чанком.
- Позволяет формировать более связные и логичные чанки, особенно для длинных текстов.
- Хорошо подходит для задач, где важно не терять общий смысл и связность.

---

## Визуализация

Для каждого метода реализована пошаговая визуализация:
- **StatisticalChunker:** показывает процесс разбиения с учётом окна, динамического порога и финальные чанки.
- **ConsecutiveChunker:** визуализирует сравнение соседних частей и итоговые чанки.
- **CumulativeChunker:** наглядно показывает, как накапливается текст для сравнения, и как формируются чанки.

---

## Пример использования

1. Введите текст в поле.
2. Выберите нужный чанкер в меню слева.
3. Переключайтесь по шагам, чтобы увидеть, как работает выбранный алгоритм.

---

